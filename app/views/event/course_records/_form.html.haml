-#  Copyright (c) 2012-2014, insieme Schweiz. This file is part of
-#  hitobito_insieme and licensed under the Affero General Public License version 3
-#  or later. See the COPYING file at the top-level directory or at
-#  https://github.com/hitobito/hitobito_insieme.

- title @event.to_s

= reporting_frozen_message

= crud_form(entry,
            url: group_event_course_record_path(*parents),
            cancel_url: group_event_path(*parents),
            buttons_top: !reporting_frozen?,
            buttons_bottom: !reporting_frozen?,
            method: :put,
            html: { class: 'course-record report long-labeled', data: { readonly: reporting_frozen? } }) do |f|

  = render 'general_fields', f: f
  = render 'participant_fields', f: f
  = render 'absence_fields', f: f
  - if entry.tp?
    = render 'care_hours', f: f
  - else
    = render 'presence_fields', f: f
  = render 'team_fields', f: f
  = render 'cost_fields', f: f
  = render 'evaluation_fields', f: f



